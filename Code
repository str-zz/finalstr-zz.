##This is the code for the webapp! 
It uses three different languages: HTML (HyperText Markup Language), CSS (Cascading Style Sheets), and JavaScript



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Dosage Estimator</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind to use Inter font and simple theming -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-blue': '#10568B',
                        'secondary-gray': '#F3F4F6',
                        'success-green': '#059669',
                        'info-yellow': '#F59E0B',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for a cleaner UI */
        body {
            background-color: #E5E7EB; /* Light gray background */
        }
    </style>
</head>
<body class="font-sans min-h-screen flex items-center justify-center p-4">

    <!-- Main Calculation Card -->
    <div class="bg-white shadow-2xl rounded-xl p-6 md:p-10 w-full max-w-xl border-t-8 border-primary-blue">
        <h1 class="text-3xl font-bold text-primary-blue mb-2 text-center">Advanced Dosage Estimator</h1>
        <p class="text-gray-500 text-center mb-8">Incorporates weight, height, and dosing frequency.</p>

        <!-- Input Form -->
        <div class="space-y-6">

            <!-- Drug and Age Inputs -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label for="drugName" class="block text-sm font-medium text-gray-700 mb-1">Drug Name (Context)</label>
                    <input type="text" id="drugName" placeholder="e.g., Amoxicillin" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                </div>
                <div>
                    <label for="patientAge" class="block text-sm font-medium text-gray-700 mb-1">Age (Years)</label>
                    <input type="number" id="patientAge" min="0" placeholder="e.g., 35" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                </div>
            </div>

            <!-- Weight Input (kg/lbs) -->
            <div>
                <label for="weightInput" class="block text-sm font-medium text-gray-700 mb-1">Patient Weight</label>
                <div class="flex rounded-lg shadow-sm">
                    <input type="number" id="weightInput" step="0.1" min="0.1" placeholder="Enter weight value" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    <select id="weightUnit" class="border border-gray-300 border-l-0 rounded-r-lg bg-gray-50 text-gray-700 p-2 cursor-pointer transition duration-150 hover:bg-gray-100" onchange="calculateDose()">
                        <option value="kg">kg</option>
                        <option value="lbs">lbs</option>
                    </select>
                </div>
            </div>
            
            <!-- Height Input (cm/in) -->
            <div>
                <label for="heightInput" class="block text-sm font-medium text-gray-700 mb-1">Patient Height</label>
                <div class="flex rounded-lg shadow-sm">
                    <input type="number" id="heightInput" step="1" min="1" placeholder="Enter height value" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    <select id="heightUnit" class="border border-gray-300 border-l-0 rounded-r-lg bg-gray-50 text-gray-700 p-2 cursor-pointer transition duration-150 hover:bg-gray-100" onchange="calculateDose()">
                        <option value="cm">cm</option>
                        <option value="in">in</option>
                    </select>
                </div>
            </div>

            <!-- Dosing Factor and Frequency Inputs -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label for="dosingFactor" class="block text-sm font-medium text-gray-700 mb-1">Dosing Factor (mg/kg/day)</label>
                    <input type="number" id="dosingFactor" step="0.1" min="0.1" placeholder="e.g., 20" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    <p class="text-xs text-gray-500 mt-1">mg per kg of body weight per day.</p>
                </div>
                <div>
                    <label for="dosingFrequency" class="block text-sm font-medium text-gray-700 mb-1">Dosing Frequency (Times/Day)</label>
                    <input type="number" id="dosingFrequency" step="1" min="1" max="6" placeholder="e.g., 3" value="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    <p class="text-xs text-gray-500 mt-1">How many times per day (e.g., 1, 2, 3).</p>
                </div>
            </div>

            <!-- Calculate Button -->
            <button onclick="calculateDose()" class="w-full bg-primary-blue text-white py-3 rounded-lg font-semibold hover:bg-opacity-90 transition duration-300 shadow-md">
                Calculate Dose Estimates
            </button>
        </div>

        <!-- Result Section -->
        <div id="resultContainer" class="mt-8 pt-6 border-t border-gray-200">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Dose Estimates</h2>
            
            <!-- Result Display -->
            <div id="doseResult" class="bg-secondary-gray p-6 rounded-lg hidden">
                
                <!-- Key Results: Dose Per Administration -->
                <div class="text-center mb-6 border-b pb-4 border-gray-300">
                    <p class="text-sm text-gray-600 mb-1 font-medium">Dose Per Administration (TID):</p>
                    <p class="text-5xl font-extrabold text-success-green" id="adminDoseOutput">0 mg</p>
                </div>

                <!-- Secondary Results: TDD and BSA -->
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div class="bg-white p-3 rounded-lg shadow-sm border border-primary-blue/20">
                        <p class="text-xs font-semibold text-primary-blue uppercase">Total Daily Dose</p>
                        <p class="text-2xl font-bold text-primary-blue mt-1" id="dailyDoseOutput">0 mg</p>
                    </div>
                    <div class="bg-white p-3 rounded-lg shadow-sm border border-info-yellow/20">
                        <p class="text-xs font-semibold text-info-yellow uppercase">Body Surface Area (BSA)</p>
                        <p class="text-2xl font-bold text-info-yellow mt-1" id="bsaOutput">0.00 m²</p>
                    </div>
                </div>
            </div>

            <!-- Error Message -->
            <div id="errorMessage" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg hidden">
                <p class="font-medium">Calculation Error:</p>
                <p id="errorText" class="text-sm">Please ensure Weight, Dosing Factor, and Frequency are valid numbers greater than zero.</p>
            </div>

            <!-- Disclaimer -->
            <p class="text-xs text-gray-500 mt-4 italic text-center" id="disclaimer">
                Disclaimer: This is a rough, non-medical estimate based on standard formulas. Always consult a healthcare professional.
            </p>
        </div>

    </div>

    <script>
        // Global utility function for fetching element values
        const getVal = (id) => document.getElementById(id).value;
        const setHtml = (id, html) => document.getElementById(id).innerHTML = html;
        const show = (id) => document.getElementById(id).classList.remove('hidden');
        const hide = (id) => document.getElementById(id).classList.add('hidden');

        function calculateDose() {
            // 1. Get Inputs
            const weightInput = getVal('weightInput');
            const weightUnit = getVal('weightUnit');
            const heightInput = getVal('heightInput');
            const heightUnit = getVal('heightUnit');
            const dosingFactor = getVal('dosingFactor');
            const frequency = getVal('dosingFrequency');

            // 2. Input Validation & Parsing
            const weight = parseFloat(weightInput);
            const height = parseFloat(heightInput);
            const factor = parseFloat(dosingFactor);
            const freq = parseInt(frequency);

            if (isNaN(weight) || isNaN(factor) || isNaN(freq) || weight <= 0 || factor <= 0 || freq <= 0) {
                hide('doseResult');
                show('errorMessage');
                return;
            }
            // Hide error message if valid
            hide('errorMessage');
            
            // 3. Unit Conversion (Standardize to kg and cm for formulas)
            let weightInKg = weight;
            if (weightUnit === 'lbs') {
                // 1 lb = 0.453592 kg
                weightInKg = weight * 0.453592;
            }

            let heightInCm = height;
            if (heightUnit === 'in') {
                // 1 in = 2.54 cm
                heightInCm = height * 2.54;
            }

            // 4. Core Calculations

            // A. Total Daily Dose (TDD) (Weight-Based)
            // TDD (mg) = Weight (kg) * Dosing Factor (mg/kg/day)
            const totalDailyDose = weightInKg * factor;
            
            // B. Dose Per Administration
            const dosePerAdmin = totalDailyDose / freq;

            // C. Body Surface Area (BSA) (Mosteller Formula) - For context/advanced dosing reference
            // BSA (m²) = sqrt( (Weight in kg * Height in cm) / 3600 )
            let bsa = 0;
            if (weightInKg > 0 && heightInCm > 0) {
                 bsa = Math.sqrt((weightInKg * heightInCm) / 3600);
            }

            // 5. Output Formatting & Display
            
            const roundedTDD = totalDailyDose.toFixed(1);
            const roundedAdminDose = dosePerAdmin.toFixed(1);
            const roundedBSA = bsa.toFixed(2);
            
            // Update labels based on frequency
            const freqText = freq === 1 ? 'Daily' : `${freq} Times Per Day`;
            document.querySelector('#doseResult > div:first-child p:first-child').textContent = `Dose Per Administration (${freqText}):`;


            setHtml('dailyDoseOutput', `${roundedTDD} mg`);
            setHtml('adminDoseOutput', `${roundedAdminDose} mg`);
            setHtml('bsaOutput', `${roundedBSA} m²`);
            
            show('doseResult');
        }

        // Initialize inputs and calculation on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Placeholder values for demonstration
            document.getElementById('drugName').value = 'Amoxicillin';
            document.getElementById('patientAge').value = 5; // Pediatric focus often uses BSA/weight
            document.getElementById('weightInput').value = 18;
            document.getElementById('dosingFactor').value = 30;
            document.getElementById('heightInput').value = 110;
            document.getElementById('dosingFrequency').value = 3;
            
            // Calculate the initial dose
            calculateDose();
        });
        
        // Add event listeners to trigger calculation on input change
        document.querySelectorAll('input, select').forEach(element => {
            if (element.id !== 'drugName' && element.id !== 'patientAge') {
                element.addEventListener('input', calculateDose);
                element.addEventListener('change', calculateDose);
            }
        });
    </script>
</body>
</html>
